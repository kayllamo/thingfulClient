{"ast":null,"code":"import _classCallCheck from \"/Users/kaylajaograham/Desktop/Thinkful/thingful-client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/kaylajaograham/Desktop/Thinkful/thingful-client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/kaylajaograham/Desktop/Thinkful/thingful-client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/kaylajaograham/Desktop/Thinkful/thingful-client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/kaylajaograham/Desktop/Thinkful/thingful-client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/kaylajaograham/Desktop/Thinkful/thingful-client/src/routes/ThingPage/ThingPage.js\";\nimport React, { Component } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport ThingContext from '../../contexts/ThingContext';\nimport ThingApiService from '../../services/thing-api-service';\nimport { Hyph, Section } from '../../components/Utils/Utils';\nimport { ThingStarRating } from '../../components/ThingStarRating/ThingStarRating';\nimport ReviewForm from '../../components/ReviewForm/ReviewForm';\nimport './ThingPage.css';\n\nvar ThingPage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ThingPage, _Component);\n\n  function ThingPage() {\n    _classCallCheck(this, ThingPage);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(ThingPage).apply(this, arguments));\n  }\n\n  _createClass(ThingPage, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var thingId = this.props.match.params.thingId;\n      this.context.clearError();\n      ThingApiService.getThing(thingId).then(this.context.setThing).catch(this.context.setError);\n      ThingApiService.getThingReviews(thingId).then(this.context.setReviews).catch(this.context.setError);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.context.clearThing();\n    }\n  }, {\n    key: \"renderThing\",\n    value: function renderThing() {\n      var _this$context = this.context,\n          thing = _this$context.thing,\n          reviews = _this$context.reviews;\n      return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n        className: \"ThingPage__image\",\n        style: {\n          backgroundImage: \"url(\".concat(thing.image, \")\")\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }), React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      }, thing.title), React.createElement(ThingContent, {\n        thing: thing,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }), React.createElement(ThingReviews, {\n        reviews: reviews,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }), React.createElement(ReviewForm, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$context2 = this.context,\n          error = _this$context2.error,\n          thing = _this$context2.thing;\n      var content;\n\n      if (error) {\n        content = error.error === \"Thing doesn't exist\" ? React.createElement(\"p\", {\n          className: \"red\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 48\n          },\n          __self: this\n        }, \"Thing not found\") : React.createElement(\"p\", {\n          className: \"red\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 49\n          },\n          __self: this\n        }, \"There was an error\");\n      } else if (!thing.id) {\n        content = React.createElement(\"div\", {\n          className: \"loading\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 51\n          },\n          __self: this\n        });\n      } else {\n        content = this.renderThing();\n      }\n\n      return React.createElement(Section, {\n        className: \"ThingPage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, content);\n    }\n  }]);\n\n  return ThingPage;\n}(Component);\n\nThingPage.defaultProps = {\n  match: {\n    params: {}\n  }\n};\nThingPage.contextType = ThingContext;\nexport { ThingPage as default };\n\nfunction ThingContent(_ref) {\n  var thing = _ref.thing;\n  return React.createElement(\"p\", {\n    className: \"ThingPage__content\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, thing.content);\n}\n\nfunction ThingReviews(_ref2) {\n  var _ref2$reviews = _ref2.reviews,\n      reviews = _ref2$reviews === void 0 ? [] : _ref2$reviews;\n  return React.createElement(\"ul\", {\n    className: \"ThingPage__review-list\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, reviews.map(function (review) {\n    return React.createElement(\"li\", {\n      key: review.id,\n      className: \"ThingPage__review\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"ThingPage__review-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(FontAwesomeIcon, {\n      size: \"lg\",\n      icon: \"quote-left\",\n      className: \"ThingPage__review-icon blue\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }), review.text), React.createElement(\"p\", {\n      className: \"ThingPage__review-user\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(ThingStarRating, {\n      rating: review.rating,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }), React.createElement(Hyph, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }), review.user.full_name));\n  }));\n}","map":{"version":3,"sources":["/Users/kaylajaograham/Desktop/Thinkful/thingful-client/src/routes/ThingPage/ThingPage.js"],"names":["React","Component","FontAwesomeIcon","ThingContext","ThingApiService","Hyph","Section","ThingStarRating","ReviewForm","ThingPage","thingId","props","match","params","context","clearError","getThing","then","setThing","catch","setError","getThingReviews","setReviews","clearThing","thing","reviews","backgroundImage","image","title","error","content","id","renderThing","defaultProps","contextType","ThingContent","ThingReviews","map","review","text","rating","user","full_name"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,eAAT,QAAgC,gCAAhC;AACA,OAAOC,YAAP,MAAyB,6BAAzB;AACA,OAAOC,eAAP,MAA4B,kCAA5B;AACA,SAASC,IAAT,EAAeC,OAAf,QAA8B,8BAA9B;AACA,SAASC,eAAT,QAAgC,kDAAhC;AACA,OAAOC,UAAP,MAAuB,wCAAvB;AACA,OAAO,iBAAP;;IAEqBC,S;;;;;;;;;;;;;wCAOC;AAAA,UACVC,OADU,GACE,KAAKC,KAAL,CAAWC,KAAX,CAAiBC,MADnB,CACVH,OADU;AAElB,WAAKI,OAAL,CAAaC,UAAb;AACAX,MAAAA,eAAe,CAACY,QAAhB,CAAyBN,OAAzB,EACGO,IADH,CACQ,KAAKH,OAAL,CAAaI,QADrB,EAEGC,KAFH,CAES,KAAKL,OAAL,CAAaM,QAFtB;AAGAhB,MAAAA,eAAe,CAACiB,eAAhB,CAAgCX,OAAhC,EACGO,IADH,CACQ,KAAKH,OAAL,CAAaQ,UADrB,EAEGH,KAFH,CAES,KAAKL,OAAL,CAAaM,QAFtB;AAGD;;;2CAEsB;AACrB,WAAKN,OAAL,CAAaS,UAAb;AACD;;;kCAEa;AAAA,0BACe,KAAKT,OADpB;AAAA,UACJU,KADI,iBACJA,KADI;AAAA,UACGC,OADH,iBACGA,OADH;AAEZ,aAAO,0CACL;AAAK,QAAA,SAAS,EAAC,kBAAf;AAAkC,QAAA,KAAK,EAAE;AAACC,UAAAA,eAAe,gBAASF,KAAK,CAACG,KAAf;AAAhB,SAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADK,EAEL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKH,KAAK,CAACI,KAAX,CAFK,EAGL,oBAAC,YAAD;AAAc,QAAA,KAAK,EAAEJ,KAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHK,EAIL,oBAAC,YAAD;AAAc,QAAA,OAAO,EAAEC,OAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJK,EAKL,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QALK,CAAP;AAOD;;;6BAEQ;AAAA,2BACkB,KAAKX,OADvB;AAAA,UACCe,KADD,kBACCA,KADD;AAAA,UACQL,KADR,kBACQA,KADR;AAEP,UAAIM,OAAJ;;AACA,UAAID,KAAJ,EAAW;AACTC,QAAAA,OAAO,GAAID,KAAK,CAACA,KAAN,0BAAD,GACN;AAAG,UAAA,SAAS,EAAC,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BADM,GAEN;AAAG,UAAA,SAAS,EAAC,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCAFJ;AAGD,OAJD,MAIO,IAAI,CAACL,KAAK,CAACO,EAAX,EAAe;AACpBD,QAAAA,OAAO,GAAG;AAAK,UAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAV;AACD,OAFM,MAEA;AACLA,QAAAA,OAAO,GAAG,KAAKE,WAAL,EAAV;AACD;;AACD,aACE,oBAAC,OAAD;AAAS,QAAA,SAAS,EAAC,WAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGF,OADH,CADF;AAKD;;;;EAlDoC7B,S;;AAAlBQ,S,CACZwB,Y,GAAe;AACpBrB,EAAAA,KAAK,EAAE;AAAEC,IAAAA,MAAM,EAAE;AAAV;AADa,C;AADHJ,S,CAKZyB,W,GAAc/B,Y;SALFM,S;;AAqDrB,SAAS0B,YAAT,OAAiC;AAAA,MAATX,KAAS,QAATA,KAAS;AAC/B,SACE;AAAG,IAAA,SAAS,EAAC,oBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGA,KAAK,CAACM,OADT,CADF;AAKD;;AAED,SAASM,YAAT,QAAwC;AAAA,4BAAhBX,OAAgB;AAAA,MAAhBA,OAAgB,8BAAN,EAAM;AACtC,SACE;AAAI,IAAA,SAAS,EAAC,wBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGA,OAAO,CAACY,GAAR,CAAY,UAAAC,MAAM;AAAA,WACjB;AAAI,MAAA,GAAG,EAAEA,MAAM,CAACP,EAAhB;AAAoB,MAAA,SAAS,EAAC,mBAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAG,MAAA,SAAS,EAAC,wBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,eAAD;AACE,MAAA,IAAI,EAAC,IADP;AAEE,MAAA,IAAI,EAAC,YAFP;AAGE,MAAA,SAAS,EAAC,6BAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAMGO,MAAM,CAACC,IANV,CADF,EASE;AAAG,MAAA,SAAS,EAAC,wBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,eAAD;AAAiB,MAAA,MAAM,EAAED,MAAM,CAACE,MAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,EAGGF,MAAM,CAACG,IAAP,CAAYC,SAHf,CATF,CADiB;AAAA,GAAlB,CADH,CADF;AAqBD","sourcesContent":["import React, { Component } from 'react'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport ThingContext from '../../contexts/ThingContext'\nimport ThingApiService from '../../services/thing-api-service'\nimport { Hyph, Section } from '../../components/Utils/Utils'\nimport { ThingStarRating } from '../../components/ThingStarRating/ThingStarRating'\nimport ReviewForm from '../../components/ReviewForm/ReviewForm'\nimport './ThingPage.css'\n\nexport default class ThingPage extends Component {\n  static defaultProps = {\n    match: { params: {} },\n  }\n\n  static contextType = ThingContext\n\n  componentDidMount() {\n    const { thingId } = this.props.match.params\n    this.context.clearError()\n    ThingApiService.getThing(thingId)\n      .then(this.context.setThing)\n      .catch(this.context.setError)\n    ThingApiService.getThingReviews(thingId)\n      .then(this.context.setReviews)\n      .catch(this.context.setError)\n  }\n\n  componentWillUnmount() {\n    this.context.clearThing()\n  }\n\n  renderThing() {\n    const { thing, reviews } = this.context\n    return <>\n      <div className='ThingPage__image' style={{backgroundImage: `url(${thing.image})`}} />\n      <h2>{thing.title}</h2>\n      <ThingContent thing={thing} />\n      <ThingReviews reviews={reviews} />\n      <ReviewForm />\n    </>\n  }\n\n  render() {\n    const { error, thing } = this.context\n    let content\n    if (error) {\n      content = (error.error === `Thing doesn't exist`)\n        ? <p className='red'>Thing not found</p>\n        : <p className='red'>There was an error</p>\n    } else if (!thing.id) {\n      content = <div className='loading' />\n    } else {\n      content = this.renderThing()\n    }\n    return (\n      <Section className='ThingPage'>\n        {content}\n      </Section>\n    )\n  }\n}\n\nfunction ThingContent({ thing }) {\n  return (\n    <p className='ThingPage__content'>\n      {thing.content}\n    </p>\n  )\n}\n\nfunction ThingReviews({ reviews = [] }) {\n  return (\n    <ul className='ThingPage__review-list'>\n      {reviews.map(review =>\n        <li key={review.id} className='ThingPage__review'>\n          <p className='ThingPage__review-text'>\n            <FontAwesomeIcon\n              size='lg'\n              icon='quote-left'\n              className='ThingPage__review-icon blue'\n            />\n            {review.text}\n          </p>\n          <p className='ThingPage__review-user'>\n            <ThingStarRating rating={review.rating} />\n            <Hyph />\n            {review.user.full_name}\n          </p>\n        </li>\n      )}\n    </ul>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}